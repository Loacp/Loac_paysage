!DOCTYPE html>
<html lang="fr">
	<head>
		<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.loaders.min.js"></script>
                <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

		<script>
	      	AFRAME.registerComponent('loaded', {
	          init: function () {
	            var el = this.el;
	            el.addEventListener('model-loaded', () => {
	              console.log(el.id+" chargÃ©");
	              });
	            this.el.addEventListener('model-error', () => {
	                // Grab the mesh / scene.
	                console.log("erreur");
	              });
	            }
	      	});
	    </script>
  </head>

  <body style='margin : 0px; overflow: hidden;'>

		<a-scene background="color: skyblue" shadow="type: basic">

			<a-assets>
				<a-asset-item id="city" src="./models/city.glb"></a-asset-item>

			</a-assets>

			<a-entity
						scale="1 1 1"
						position="0 0 0"
						rotation="0 0 0"
						loaded
            gltf-model="#city"
			shadow="receive: true"
						>

			 </a-entity>
			 
		   <a-sky color="black"></a-sky>
			
			 <a-entity light="type: ambient; color: #234047"></a-entity>
			
			 <a-light type="spot" intensity="2" position="-4.57035 7.19075 -5.59563" light="intensity: 5; color: #ff9500; castShadow: true; angle: 67.49; penumbra: 1; groundColor: #ffffff; shadowCameraBottom: -4.27" rotation="-30.277954683688353 56.40368422606363 -90.23913385971926" visible=""></a-light>

			 <a-light type="spot" intensity="2" position="-0.13418 4.09993 -6.96672" light="intensity: 3; color: #ff9500; castShadow: true; angle: 67.49; penumbra: 1; groundColor: #ffffff; shadowCameraBottom: -4.27" rotation="-56.88611468956378 -178.59896615140943 129.43861437138966" visible=""></a-light>

			 <a-light type="spot" intensity="2" position="-3.17217 2.03783 -7.78213" light="intensity: 7.05; color: #ff9500; castShadow: true; angle: 41.38; penumbra: 0.13; groundColor: #ffffff" rotation="-29.752552385553386 -95.64499065677857 -2.8023365759848566" visible=""></a-light>
			 
			 <a-light type="spot" intensity="2" position="6.66572 3.89341 -8.55926" light="intensity: 5; color: #ff7b00; castShadow: true; angle: 41.38; penumbra: 0.87; groundColor: #ffffff" rotation="-38.49531538145462 0 0" visible=""></a-light>

			 <a-entity light="color: #6b5200; intensity: 0.29" position="-2.88 -29.9 -79.8"></a-entity>

			 <a-entity light="color: #6b5200; intensity: 0.29; type: directional" position="10.14 101.3 -366.7"></a-entity>

			 <a-entity light="color: #ffa200; intensity: 0.22; type: point; castShadow: true" position="0 2.943 0"></a-entity>
			
			 <a-light type="spot" intensity="2" position="-4.57035 7.19075 -5.59563" light="type: spot; intensity: 5; color: #ff7b00; castShadow: true; angle: 41.38; penumbra: 0.87; groundColor: #ffffff" rotation="-30.277954683688353 56.40368422606363 -90.23913385971926"></a-light>
    	</a-scene>

  </body>
</html>
